<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript">
	var abi=[
	{
		"constant": false,
		"inputs": [
			{
				"name": "to",
				"type": "address"
			}
		],
		"name": "delegate",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "winningProposal",
		"outputs": [
			{
				"name": "_winningProposal",
				"type": "uint8"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "toVoter",
				"type": "address"
			}
		],
		"name": "giveRightToVote",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "toProposal",
				"type": "uint8"
			}
		],
		"name": "vote",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"name": "_numProposals",
				"type": "uint8"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	}
];

var address = "0x719CDFb2cF229baA7c6AB31027299F866b0013E6";

function paymentExample() {
	web3.eth.getAccounts(function(error, acc) {
		defaultAccount=acc[0];
		console.log(acc);
		console.log("defaultAccount="+defaultAccount);
		contract = web3.eth.contract(abi).at(address);
		console.log(contract);
		sum = document.getElementById("sum").value;
		sum = web3.toWei(sum, 'ether');
		contract.doPayment.sendTransaction(
			{		
			from: defaultAccount, 				
			value: sum 
			}, 
			function(error, data) {
				 if(error!=null) console.log(error);
                       console.log("Data="+data);
                });
	});
}
</script>
</head>
<body>
    <h1>ETH call payment function</h1>
    <p>Payment sum (ETH):</p>
    <input type="text" size="50" id="sum" />
    <button type="button" onClick="paymentExample();">pay</button>
</body>
</html>
